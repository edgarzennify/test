{"version":3,"sources":["..\\..\\./ClientApp/components/common/SaveLoader.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA+B;AAU/B,IAAK,SAIJ;AAJD,WAAK,SAAS;IACV,6CAAM;IACN,qDAAU;IACV,+CAAO;AACX,CAAC,EAJI,SAAS,KAAT,SAAS,QAIb;AAED;IAAyB,8BAAmD;IAKxE;QAAA,YACI,iBAAO,SAUV;QAdO,YAAM,GAAW,CAAC,CAAC,CAAC;QAMxB,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,KAAI,CAAC,KAAK,GAAG;YACT,UAAU,EAAE,SAAS,CAAC,MAAM;SAC/B;QAED,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjD,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC3C,CAAC;IAED,sCAAiB,GAAjB;QAAA,iBAIC;QAHG,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;YACtB,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,yCAAoB,GAApB;QACI,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAE/B,CAAC;IAED,iCAAY,GAAZ;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACxB,KAAK,EAAE;gBACH,IAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,SAAS,CAAC,UAAU,EAAC,CAAC,CAAC;gBACnD,KAAK,CAAC;YACV,KAAK,EAAE;gBACH,IAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,SAAS,CAAC,OAAO,EAAC,CAAC,CAAC;gBAChD,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC3B,KAAK,CAAC;YACV;gBACI,IAAI,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC;IAEL,CAAC;IAED,+BAAU,GAAV;QACI,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;YAC5B,KAAK,SAAS,CAAC,MAAM;gBACjB,MAAM,CAAC,CAAC;;oBAAa,IAAI,CAAC,OAAO,EAAE,CAAO,CAAC,CAAC;YAChD,KAAK,SAAS,CAAC,UAAU;gBACrB,MAAM,CAAC,CAAC;;oBAAiB,IAAI,CAAC,OAAO,EAAE,CAAO,CAAC,CAAC;YACpD,KAAK,SAAS,CAAC,OAAO;gBAClB,MAAM,CAAC,CAAC;;oBAAoB,iEAAQ,SAAS,EAAC,oBAAoB,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,YAAgB,CAAM,CAAC;YACnI;gBACI,MAAM,CAAC,IAAI,CAAC;QACpB,CAAC;IACL,CAAC;IAED,4BAAO,GAAP;QACI,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;YAC5B,KAAK,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC;YACnB,KAAK,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC;YACpB,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC;QACzB,CAAC;IAEL,CAAC;IAED,2BAAM,GAAN;QACI,MAAM,CAAC,CACH,8DAAK,SAAS,EAAC,aAAa,IAAE,IAAI,CAAC,UAAU,EAAE,CAAO,CACzD,CAAC;IACN,CAAC;IACL,iBAAC;AAAD,CAAC,CAzEwB,gDAAe,GAyEvC;AAED,+DAAe,UAAU,EAAC","file":"2.js","sourcesContent":["import * as React from \"react\";\r\n\r\ninterface ISaveLoaderState {\r\n    LoadStatus: LoadState\r\n}\r\n\r\nexport interface ISaveLoaderProps {\r\n    onSaveLoaderClose: any\r\n}\r\n\r\nenum LoadState {\r\n    Saving,\r\n    Validating,\r\n    Timeout\r\n}\r\n\r\nclass SaveLoader extends React.Component<ISaveLoaderProps, ISaveLoaderState> {\r\n\r\n    private _timer: number = -1;\r\n    private _timeElasped: number;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._timeElasped = 0;\r\n        this.state = {\r\n            LoadStatus: LoadState.Saving\r\n        }\r\n\r\n        this.getMessage = this.getMessage.bind(this);\r\n        this.setLoadState = this.setLoadState.bind(this);\r\n        this.getDots = this.getDots.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._timer = setInterval(() => {\r\n            this.setLoadState();\r\n        }, 500);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this._timer);\r\n        \r\n    }\r\n\r\n    setLoadState() {\r\n        this._timeElasped++;\r\n\r\n        switch (this._timeElasped) {\r\n            case 20:\r\n                this.setState({ LoadStatus: LoadState.Validating});\r\n                break;\r\n            case 60:\r\n                this.setState({ LoadStatus: LoadState.Timeout});\r\n                clearInterval(this._timer);\r\n                break;\r\n            default:\r\n                this.forceUpdate();\r\n        }\r\n\r\n    }\r\n\r\n    getMessage() {\r\n        switch (this.state.LoadStatus) {\r\n            case LoadState.Saving:\r\n                return (<div>Saving {this.getDots()}</div>);\r\n            case LoadState.Validating:\r\n                return (<div>Validating {this.getDots()}</div>);\r\n            case LoadState.Timeout:\r\n                return (<div>Timeout occured<button className=\"save-loader-button\" onClick={this.props.onSaveLoaderClose}>Close</button></div>)\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    getDots() {\r\n        switch (this._timeElasped % 3) {\r\n            case 0: return \".\";\r\n            case 1: return \"..\";\r\n            case 2: return \"...\";\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"save-loader\">{this.getMessage()}</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SaveLoader;\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/common/SaveLoader.tsx"],"sourceRoot":""}